
iptables es una herramienta de lรญnea de comandos en Linux que permite configurar reglas para el firewall del sistema.

Sirve para controlar el trรกfico de red que entra o sale del equipo, permitiendo o bloqueando conexiones segรบn ciertas condiciones, como direcciรณn IP, puerto o protocolo.

#Eliminar reglas iptables definidas, -F=Flush(Borrar)

  -sudo iptables -F


Iptables funciona en "tablas" con el parametro "-t" hacemos referencia, por defecto si no usamos el "-t" todo se creara en la tabla "filter", NO SE PUEDEN CREAR TABLAS

Iptables tiene las siguientes tablas:

filter (la tabla por defecto para permitir o denegar paquetes)

nat (traducciรณn de direcciones)

mangle (modificaciรณn avanzada de paquetes)

raw (para omitir el seguimiento de conexiones)

security (integraciรณn con SELinux)


#Ver las reglas iptables de una tabla, -L=lista las reglas, -v=muestra detalles (como los contadores de paquetes/bytes), -n=no resuelve DNS (mรกs rรกpido).

  -sudo iptables -L -v -n #ver reglas en la tabla filter(la tabla por defecto)
  -sudo iptables -t nat -L -v -n #ver reglas en la tabla nat

#Reiniciar contador(Un contador en iptables es un nรบmero que cuenta los paquetes que coinciden con una regla)

  -sudo iptables -Z


En iptables, una cadena es una lista de reglas que se revisan una por una para decidir quรฉ hacer con un paquete de red (aceptarlo, bloquearlo, redirigirlo, etc.).

๐ Cadenas principales (predefinidas por el sistema):
INPUT โ controla el trรกfico que llega al sistema.

OUTPUT โ controla el trรกfico que sale del sistema.

FORWARD โ controla el trรกfico que pasa a travรฉs del sistema (como si fuera un router).

Estas estรกn en la tabla filter, que es la mรกs comรบn.


Jerarquia en iptables:
Tabla > Cadena > Regla


                                                    โโโโโโโโโโโโโโโ
                                                    โ   Tabla     โ
                                                    โ (filter,    โ
                                                    โ  nat, etc.) โ
                                                    โโโโโโโฌโโโโโโโโ
                                                          โ
                                                          โผ
                                                    โโโโโโโโโโโโโโโ
                                                    โ   Cadena    โ
                                                    โ (INPUT,     โ
                                                    โ  OUTPUT,    โ
                                                    โ  FORWARD)   โ
                                                    โโโโโโโฌโโโโโโโโ
                                                          โ
                                                          โผ
                                                    โโโโโโโโโโโโโโโ
                                                    โ   Regla     โ
                                                    โ (Condiciรณn  โ
                                                    โ  + Acciรณn)  โ
                                                    โโโโโโโโโโโโโโโ


